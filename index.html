<!doctype html>
<html>
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Bath Garden ‚Äî Scent Match Game</title>
<style>
  body {
    font-family: 'Helvetica', sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px;
    margin: 0;
    background: #fdf9f6; /* soft spa-like background */
  }

  h1 {
    margin-bottom: 8px;
    color: #6b8e86;
  }

  #board {
    display: grid;
    grid-template-columns: repeat(4, 120px);
    gap: 12px;
    margin-top: 20px;
  }

  .card {
    width: 120px;
    height: 140px;
    background: #fff;
    border-radius: 12px;
    box-shadow: 0 6px 12px rgba(0,0,0,0.08);
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    position: relative;
    user-select: none;
    perspective: 1000px;
  }

  .card-inner {
    position: absolute;
    width: 100%;
    height: 100%;
    border-radius: 12px;
    transition: transform 0.6s;
    transform-style: preserve-3d;
  }

  .card.flipped .card-inner {
    transform: rotateY(180deg);
  }

  .card-front, .card-back {
    position: absolute;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 12px;
    backface-visibility: hidden;
    font-size: 20px;
    text-align: center;
    padding: 10px;
  }

  .card-front {
    background: #e8f0ea;
    font-size: 40px;
  }

  .card-back {
    background: #fdf9f6;
    color: #6b8e86;
    transform: rotateY(180deg);
    font-size: 16px;
    flex-direction: column;
  }

  #status {
    margin-top: 14px;
    color: #6b8e86;
  }

  button {
    margin-top: 12px;
    padding: 8px 16px;
    border-radius: 10px;
    border: none;
    background: #6b8e86;
    color: #fff;
    cursor: pointer;
    font-size: 14px;
  }

  .shop-btn {
    margin-top: 8px;
    padding: 4px 8px;
    font-size: 13px;
    background: #f7c6b0;
    color: #6b8e86;
    border-radius: 8px;
    border: none;
    cursor: pointer;
  }

  @media(max-width:520px){
    #board{grid-template-columns:repeat(2,140px)}
    .card{width:140px;height:160px}
  }
</style>
</head>
<body>

<h1>Bath Garden ‚Äî Scent Match Game</h1>
<div id="status">Find all matching scent pairs!</div>
<div id="board"></div>
<button id="reset">Restart Game</button>

<script>
const scents = [
  {name:'Rose', url:'#'},
  {name:'Banana', url:'#'},
  {name:'Caramel', url:'#'},
  {name:'Pineapple', url:'#'},
  {name:'Watermelon', url:'#'},
  {name:'Sakura', url:'#'},
  {name:'Vanilla', url:'#'},
  {name:'Coconut', url:'#'}
];

// Duplicate scents for pairs
let cards = scents.concat(scents).map((c,i)=>({...c, id:i+1}));

shuffle(cards);

const board = document.getElementById('board');
let first=null, second=null, lock=false, matches=0;

function createCard(item){
  const el = document.createElement('div');
  el.className='card';
  el.dataset.name = item.name;

  el.innerHTML = `
    <div class="card-inner">
      <div class="card-front">üõÅ</div>
      <div class="card-back">
        ${item.name}<br>
        <button class="shop-btn" onclick="window.location='${item.url}'">Shop this scent</button>
      </div>
    </div>
  `;

  el.addEventListener('click', ()=> flipCard(el));
  return el;
}

function render(){
  board.innerHTML='';
  cards.forEach(c=> board.appendChild(createCard(c)));
}

function flipCard(el){
  if(lock || el.classList.contains('flipped') || el===first) return;
  el.classList.add('flipped');
  if(!first){ first = el; return; }
  second = el;
  checkMatch();
}

function checkMatch(){
  const a=first.dataset.name, b=second.dataset.name;
  if(a===b){
    matches +=1;
    first.removeEventListener('click', ()=>flipCard);
    second.removeEventListener('click', ()=>flipCard);
    resetTurn();
    if(matches === scents.length) {
      document.getElementById('status').textContent = "You found all scents! üéâ";
    }
  } else {
    lock = true;
    setTimeout(()=> {
      first.classList.remove('flipped');
      second.classList.remove('flipped');
      resetTurn();
    }, 1000);
  }
}

function resetTurn(){ [first,second]=[null,null]; lock=false; }

function shuffle(array){
  for(let i=array.length-1;i>0;i--){
    const j=Math.floor(Math.random()*(i+1));
    [array[i],array[j]]=[array[j],array[i]];
  }
}

document.getElementById('reset').addEventListener('click', ()=> {
  shuffle(cards); render(); matches=0; document.getElementById('status').textContent='Find all matching scent pairs!';
});

render();
</script>

</body>
</html>
