<!doctype html>
<html>
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Bath Garden â€” Scent Match Game</title>
<style>
  body{font-family:Arial,Helvetica,sans-serif;display:flex;flex-direction:column;align-items:center;padding:20px;margin:0;background:#faf8f6}
  h1{margin-bottom:6px}
  #board{display:grid;grid-template-columns:repeat(4,120px);gap:12px;margin-top:16px}
  .card{width:120px;height:140px;background:#fff;border-radius:10px;box-shadow:0 4px 8px rgba(0,0,0,0.06);display:flex;align-items:center;justify-content:center;cursor:pointer;position:relative;user-select:none}
  .card .front,.card .back{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;border-radius:10px}
  .card .front{background:#f4f2f1;font-size:18px;padding:10px}
  .card .back{background:linear-gradient(135deg,#fdf6f0,#fff);transform:rotateY(180deg)}
  .card.flipped .front{transform:rotateY(180deg);opacity:0}
  .card.flipped .back{transform:rotateY(0);opacity:1}
  .hidden{visibility:hidden}
  #status{margin-top:14px}
  button{margin-top:10px;padding:8px 14px;border-radius:8px;border:0;background:#6b8e86;color:#fff;cursor:pointer}
  @media(max-width:520px){#board{grid-template-columns:repeat(2,140px)}.card{width:140px;height:160px}}
</style>
</head>
<body>
  <h1>Scent Match â€” Bath Garden</h1>
  <div id="status">Find all matching scent pairs!</div>
  <div id="board"></div>
  <button id="reset">Restart Game</button>

<script>
const scents = [
  {name:'Rose', emoji:'ðŸŒ¹'}, {name:'Lavender', emoji:'ðŸ’œ'},
  {name:'Citrus', emoji:'ðŸŠ'}, {name:'Ocean', emoji:'ðŸŒŠ'},
  {name:'Jasmine', emoji:'ðŸŒ¼'}, {name:'Mint', emoji:'ðŸŒ¿'},
  {name:'Vanilla', emoji:'ðŸ¨'}, {name:'Peony', emoji:'ðŸŒ¸'}
];
// duplicate and shuffle
let cards = [];
scents.forEach(s=>cards.push({...s}), c=>cards.push({...s}));
cards = cards.concat(cards.slice(0,0)); // no-op safe
cards = scents.concat(scents).map((c,i)=>({...c, id:i+1}));
shuffle(cards);

const board = document.getElementById('board');
let first=null, second=null, lock=false, matches=0;

function createCard(item){
  const el = document.createElement('div');
  el.className='card';
  el.dataset.name = item.name;
  el.innerHTML = `<div class="front">${item.emoji}</div><div class="back">${item.name}</div>`;
  el.addEventListener('click', ()=> flipCard(el));
  return el;
}
function render(){
  board.innerHTML='';
  cards.forEach(c=> board.appendChild(createCard(c)));
}
function flipCard(el){
  if(lock || el.classList.contains('flipped') || el===first) return;
  el.classList.add('flipped');
  if(!first){ first = el; return; }
  second = el;
  checkMatch();
}
function checkMatch(){
  const a=first.dataset.name, b=second.dataset.name;
  if(a===b){
    matches +=1;
    first.removeEventListener('click', ()=>flipCard);
    second.removeEventListener('click', ()=>flipCard);
    resetTurn();
    if(matches === scents.length) {
      document.getElementById('status').textContent = "You found all scents â€” nice! ðŸŽ‰";
    }
  } else {
    lock = true;
    setTimeout(()=> {
      first.classList.remove('flipped');
      second.classList.remove('flipped');
      resetTurn();
    }, 900);
  }
}
function resetTurn(){ [first,second]=[null,null]; lock=false; }
function shuffle(array){
  for(let i=array.length-1;i>0;i--){
    const j=Math.floor(Math.random()*(i+1));
    [array[i],array[j]]=[array[j],array[i]];
  }
}
document.getElementById('reset').addEventListener('click', ()=> {
  shuffle(cards); render(); matches=0; document.getElementById('status').textContent='Find all matching scent pairs!';
});
render();
</script>
</body>
</html>
